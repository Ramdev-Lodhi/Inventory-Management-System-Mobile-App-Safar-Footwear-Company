<div id="page-wrapper">

	<div class="row">
		<h3 class="title1">List of Subjects with Issues</h3>
		<div class="panel panel-default table-responsive">
			<div id="collapse1" class="panel-collapse collapse in " role="tabpanel" aria-labelledby="headingOne">
				<h2 style="color: red;">B.Tech.</h2>
				<div class="panel-body  table-responsive  ">

					<div id="collapse1" class="panel-collapse collapse in " role="tabpanel"
						aria-labelledby="headingOne">
						<a style="text-decoration:none;" href="#civil" class="subject-link" data-target="#civil" onclick="get_sub(2,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbsp;Civil Engineering
						</a>
						<div id="civil" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>

						<a style="text-decoration:none;" href="#mechanical" class="subject-link" data-target="#mechanical" onclick="get_sub(5,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbsp;Mechanical Engineering
						</a>
						<div id="mechanical" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>
						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Electronics" onclick="get_sub(6,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspElectronics & Communication
							Engineering
						</a>
						<div id="Electronics" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Chemical" onclick="get_sub(7,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspChemical
							Engineering
						</a>
						<div id="Chemical" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Electrical" onclick="get_sub(8,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspElectrical & Electronics
							Engineering
						</a>
						<div id="Electrical" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Fire" onclick="get_sub(10,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspFire Technology & Safety
							Engineering
						</a>
						<div id="Fire" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Computer" onclick="get_sub(11,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspComputer Science &
							Engineering
						</a>
						<div id="Computer" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Information" onclick="get_sub(17,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspComputer Science and
							Information
							Technology
						</a>
						<div id="Information" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>

						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#IOT" onclick="get_sub(20,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspComputer Science &
							Engineering(IOT)
						</a>
						<div id="IOT" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#DS" onclick="get_sub(21,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspComputer Science &
							Engineering(DS)
						</a>
						<div id="DS" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#AIML" onclick="get_sub(26,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspComputer Science &
							Engineering
							(AI & ML)
						</a>
						<div id="AIML" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Language" onclick="get_sub(27,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspComputer Science &
							Engineering
							(Regional Language)
						</a>
						<div id="Language" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>

						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#IOTCS" onclick="get_sub(28,0)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbsp Computer Science &
							Engineering(IOT&CS)
						</a>
						<div id="IOTCS" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>



		<div class="panel panel-default table-responsive">
			<div id="collapse1" class="panel-collapse collapse in " role="tabpanel" aria-labelledby="headingOne">
				<h2 style="color: red;">M.Tech. / M.E.</h2>
				<div class="panel-body  table-responsive  ">

					<div id="collapse1" class="panel-collapse collapse in " role="tabpanel"
						aria-labelledby="headingOne">

						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Structural" onclick="get_sub(2,1)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspStructural Engineering
							(M.Tech.)
						</a>
						<div id="Structural" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Management" onclick="get_sub(2,9)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspConstruction Planning &
							Management (M.Tech.)
						</a>
						<div id="Management" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Robotics" onclick="get_sub(5,13)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspRobotics (M.Tech.)
						</a>
						<div id="Robotics" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						

						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Communication" onclick="get_sub(6,15)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspDigital Communication
							(M.E.)
						</a>
						<div id="Communication" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#ME" onclick="get_sub(6,8)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i>  &nbspElectronics (M.E.)
						</a>
						<div id="ME" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#ChemicalM" onclick="get_sub(7,10)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i>   &nbspChemical Engineering
							(M.Tech.)
						</a>
						<div id="ChemicalM" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Power" onclick="get_sub(8,11)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i>  &nbspPower Electronics
							(M.Tech.)
						</a>
						<div id="Power" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Industrial" onclick="get_sub(10,12)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i>  &nbspIndustrial Safety Engineering
							(M.Tech.)
						</a>
						<div id="Industrial" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Intelligence" onclick="get_sub(11,6)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspArtificial Intelligence and
							Machine Learning (M.Tech.)
						
						</a>
						<div id="Intelligence" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>

						<br><br>

						
						<a style="text-decoration:none;" href="#" class="subject-link" data-target="#Science" onclick="get_sub(21,14)">
							&nbsp;&nbsp;<i class="fa fa-list-alt nav_icon"></i> &nbspData Science (M.E.)
						
						</a>
						<div id="Science" class="collapse subject-table">
							<div class="card">
								<div class="card-body">
									<table id="myTable" class="table table-bordered">
										<thead></thead>
										<tbody></tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<script>
	$(document).ready(function () {
		$('.subject-link').on('click', function (event) {
			event.preventDefault();
			var target = $(this).data('target');
			$('.subject-table').not(target).collapse('hide');
			$(target).collapse('toggle');
		});
	});

	function get_sub(id, s) {
		console.log(id);
		console.log(s);
		var myurl = "<?php echo base_url('ResultIssues1/result_issues2/'); ?>" + id + '/' + s;

		$.ajax({
			type: 'POST',
			url: myurl,
			dataType: 'json', // Expecting JSON response
			data: { id: id },
			success: function (response) {
				console.log(response);
				updateTable(response);
			}
		});
	}

	function updateTable(response) {
		var subjects = response.subjects;
		var subjects1 = response.subjects1;
		var tableHead = $('#myTable thead');
		var tableBody = $('#myTable tbody');

		tableHead.empty(); // Clear previous data
		tableBody.empty(); // Clear previous data

		// Define the table headers
		var theadRow = '<tr>' +
			'<th style="width: 3%; text-align: center;">S.No</th>' +
			'<th style="width: 11%; text-align: center;">Department</th>' +
			'<th style="width: 4%; text-align: center;">Batch Id</th>' +
			'<th style="width: 15%; text-align: center;">Subjects</th>' +
			'<th style="width: 3%; text-align: center;">Semester</th>' +
			'<th style="width: 7%; text-align: center;">Faculty Computer Code</th>' +
			'<th style="width: 9%; text-align: center;">Faculty Name</th>' +
			'</tr>';
		tableHead.append(theadRow);

		var sno = 1;
		// if (subjects.length > 0 && subjects1.length <= 0 || subjects.Department_id != subjects1.Department_id) {
			if ( subjects.Department_id != subjects1.Department_id) {
			// Process subjects
			$.each(subjects, function (index, value) {
				var row = '<tr>' +
					'<td style="text-align: center;">' + sno + '</td>' +
					'<td style="text-align: center;">' + value.department_name + ' (' + value.department_code + ')</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.batch_id + '</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.subject_name + ' (' + value.subject_code + ') - ' + value.type + '</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.semester + '</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.faculty_computer_code + '</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.faculty_name + '</td>' +
					'</tr>';
				tableBody.append(row);
				sno++;
			});

			// Process subjects1

		} else {
			$.each(subjects1, function (index, value) {
				var row = '<tr>' +
					'<td style="text-align: center;">' + sno + '</td>' +
					'<td style="text-align: center;">' + value.department_name + ' (' + value.department_code + ')</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.batch_id + '</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.subject_name + ' (' + value.subject_code + ') - ' + value.type + '</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.semester + '</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.faculty_computer_code + '</td>' +
					'<td style="text-align: center; font-weight: bold;">' + value.faculty_name + '</td>' +
					'</tr>';
				tableBody.append(row);
				sno++;
			});
		}
	}

</script>